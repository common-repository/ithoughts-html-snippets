/**
 * @file jQuery extension to help serializing forms
 *
 * @author Gerkin
 * @copyright 2016 
 * @license https://www.gnu.org/licenses/gpl-3.0.html GPLv3
 * @package iThoughts-toolbox
 *
 */
!function(e){"use strict";var n=e.$;n.fn.extend({serializeObject:function(){var e={};return n.map(n(this).serializeArray(),function(n){var t,i,a,r,s=n.name.indexOf("["),u=n.value||"";if(s>-1)for(i=e,a=n.name.replace(/\]/gi,"").split("["),r=0,t=a.length;t>r;r++)r===t-1?""!=a[r]?i[a[r]]?("string"==typeof i[a[r]]&&(i[a[r]]=[i[a[r]]]),i[a[r]].push(u)):i[a[r]]=u:i.push(u):i=i[a[r]]=i[a[r]]||(""===a[r+1]?[]:{});else void 0!==e[n.name]?(e[n.name].push||(e[n.name]=[e[n.name]]),e[n.name].push(u)):e[n.name]=u}),e},serializeInputsObject:function(e){var t={};return this.each(function(){var i={},a=i,r=this.name,s=r.replace(/\]/gi,"").split("["),u=0,f=s.length;for(u;f>u;u++)u===f-1?a[s[u]]="undefined"!=typeof e?e:this.value:a=a[s[u]]={};n.extend(t,i)}),t}})}(Ithoughts.v4);